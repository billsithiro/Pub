// class to perform multiple linear regression with matricies
    public class MLR
    {      
        // create a function to perform multiple linear regression
        public static double[] Calculate(double[,] x, double[] y)
        {
            // create a matrix to hold the transpose of the x values
            var xTransposed = Matrix.Transpose(x);
            // create a matrix to hold the product of the x transpose and x
            var xTransposedX = Matrix.Multiply(xTransposed, x);
            // create a matrix to hold the inverse of the x transpose x
            var xTransposedXInverse = Matrix.Inverse(xTransposedX);
            // create a matrix to hold the product of the x transpose y and y matrix
            var xTransposedY = Matrix.Multiply(xTransposed, y);
            // create a matrix to hold the product of the x transpose x inverse and x transpose y
            var beta = Matrix.Multiply(xTransposedXInverse, xTransposedY);
            // return the coefficiets
            return beta;
        }

        // create a function to predict multiple linear regression
        public static double[] Predict(double[,] x, double[] coefficients)
        {            
            // create a matrix to hold the predictions
            var yHat = Matrix.Multiply(x, coefficients);
            // return the values of the matrix
            return yHat;
        }
    }
